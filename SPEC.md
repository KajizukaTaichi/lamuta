# Lamuta言語仕様書

この文書はプログラミング言語Lamutaの仕様を纏めたものである。
まだドラフトで厳密な定義でなく、処理系はこの仕様に従って動作する保証はない。
飽くまで参考程度に捉えてくれると嬉しい。貢献も歓迎する。

## 型システム

### 値

#### 文字列(string)
リテラルはダブルクォートで囲んで記述する。
特殊文字はバックスラッシュでエスケープする必要がある。

演算子は、`+`で結合、`-`で削除、`*`でリピート、に対応している。
また、リストに変換すると1文字ずつに分割される。


#### ラムダ抽象
ラムダ記号もしくはバックスラッシュの後に仮引数と関数本体の式をドットで区切って書く。
```ebnf
"λ" | "\\", arg, ".", expr
```

また、糖衣構文として命令型の記法も存在する：
```ebnf
"fn(", arg, { ",", arg }, "->", statement, ")"
```

#### 構造体
構造体はブロックと区別するため先頭にアットマークを付けて波括弧で囲む。
キーと値の組みをコロンで区切り、複数の場合はそれをカンマで区切る。
なお、キーは文字列型の値である必要がある。
```ebnf
"@{", expr, { ",", expr }, "}"
```

## 式
式の項や演算子はスペースで区切る。
```ebnf
term , { " " , term }
```

### ブロック
ブロックは波括弧で囲み、文をセミコロンで区切る。
最後に評価された文の戻り値がブロックのそれとなる。
```ebnf
"{", statement, { ";", statement }, "}"
```
　
### 関数適用
式の中に関数と引数をスペースで区切って書く。
パース時に演算子として認識できない場合に関数適用と解釈される。
```ebnf
expr, " ", expr
```

また、糖衣構文として命令型の記法も存在する：
```ebnf
bind, "(", expr, { ",", expr }, ")"
```
